{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1366:function(t,e,n){__NEXT_REGISTER_PAGE(\"/dashboard\",function(){return t.exports=n(1379),{page:t.exports.default}})},1379:function(t,e,n){\"use strict\";n.r(e);var o=n(0),r=n.n(o),i=n(33);function u(t){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return!e||\"object\"!==u(e)&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function h(t,e){return!e||\"object\"!==p(e)&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g,m,d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),h(this,b(e).apply(this,arguments))}var n,o,i;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,Component),n=e,(o=[{key:\"render\",value:function(){var t=this.props.auth.getProfile();return r.a.createElement(\"div\",null,\"Current user: \",t.email)}}])&&y(n.prototype,o),i&&y(n,i),e}();e.default=(g=d,m=new i.a,function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=f(this,l(e).call(this,t))).state={isLoading:!0},n}var n,i,u;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.Component),n=e,(i=[{key:\"componentDidMount\",value:function(){m.loggedIn(),this.setState({isLoading:!1})}},{key:\"render\",value:function(){return r.a.createElement(\"div\",null,this.state.isLoading?r.a.createElement(\"div\",null,\"LOADING....\"):r.a.createElement(g,a({},this.props,{auth:m})))}}])&&c(n.prototype,i),u&&c(n,u),e}())},33:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return h});var o=n(5),r=n.n(o),i=n(19),u=n.n(i),a=n(7),c=n.n(a);function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){l(t,e,n[e])})}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e,n,o,r,i,u){try{var a=t[i](u),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,r)}function p(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var y=u()().publicRuntimeConfig.API_URL,h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.domain=y||\"http://localhost:3000\",this.fetch=this.fetch.bind(this),this.login=this.login.bind(this),this.getProfile=this.getProfile.bind(this)}var e,n,o;return e=t,(n=[{key:\"login\",value:function(t,e){var n=this;return this.fetch(\"login\",{method:\"POST\",body:JSON.stringify({email:t,password:e})}).then(function(t){n.setToken(t.id_token)}).then(function(t){return n.setProfile(t),Promise.resolve(t)})}},{key:\"loggedIn\",value:function(){this.getToken()}},{key:\"setProfile\",value:function(t){localStorage.setItem(\"profile\",JSON.stringify(t))}},{key:\"getProfile\",value:function(){return localStorage.getItem(\"profile\")?JSON.parse(localStorage.profile):{}}},{key:\"setToken\",value:function(t){localStorage.setItem(\"id_token\",t)}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),localStorage.removeItem(\"profile\")}},{key:\"_checkStatus\",value:function(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}},{key:\"fetch\",value:function(){var t,e=(t=r.a.mark(function t(e,n){var o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o={Accept:\"application/json\",\"Content-Type\":\"application/json\"},this.loggedIn()&&(o.Authorization=\"Bearer \"+this.getToken()),t.abrupt(\"return\",c()(\"\".concat(this.domain,\"/\").concat(e),f({},n)).then(this._checkStatus).then(function(t){return t.json()}));case 3:case\"end\":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(o,r){var i=t.apply(e,n);function u(t){s(i,o,r,u,a,\"next\",t)}function a(t){s(i,o,r,u,a,\"throw\",t)}u(void 0)})});return function(t,n){return e.apply(this,arguments)}}()}])&&p(e.prototype,n),o&&p(e,o),t}()}},[[1366,0,1]]]);","extractedComments":[]}